# ðŸš€ Ralph Loop with z.ai API - Quick Start Guide

## WHAT'S DIFFERENT
Using z.ai API endpoint instead of default Anthropic API:
- Base URL: https://api.z.ai/api/anthropic
- Your API key (b58d7ad0c5544e0da85fa8c63e5a8519)
- Compatible with: Claude Sonnet 4.5, GLM 4.7, other models
- Same Claude Code interface, different routing

## HOW TO START

### Step 1: Stop Any Old Ralph Processes

```bash
pkill -9 -f ralph
pkill -9 -f "claude.*Loop"
```

### Step 2: Start Ralph with z.ai API

```bash
cd /Users/mkazi/AI-SDK-PROJECTS
./start-ralph-zai.sh
```

That's it! Ralph will now use the z.ai endpoint.

## WHAT TO EXPECT

âœ… Ralph starts normally (no nested session error)
âœ… Claude responds through z.ai API
âœ… All 100 tasks execute autonomously
âœ… Same functionality, different API routing

## MONITORING

Same commands as before:

```bash
# Check progress
./check-ralph-progress.sh

# View logs
tail -f .ralph/logs/ralph.log

# Attach to tmux (when created)
tmux attach -t ralph-<session-id>
```

## ADVANTAGES OF z.ai

- âœ… API routing through z.ai infrastructure
- âœ… GLM 4.7 compatible
- âœ… Potentially different pricing/rate limits
- âœ… Same Claude Code interface
- âœ… All 5 Claude5* ecosystems work normally

## TROUBLESHOOTING

If Claude still doesn't respond:

1. Check API key is valid: `echo $ANTHROPIC_API_KEY`
2. Test API manually:
   ```bash
   curl https://api.z.ai/api/anthropic/v1/messages \
     -H "x-api-key: $ANTHROPIC_API_KEY" \
     -H "anthropic-version: 2023-06-01" \
     -d '{"model":"claude-sonnet-4-20250214","max_tokens":10,"messages":[{"role":"user","content":"Hi"}]}'
   ```

3. Check base URL: `echo $ANTHROPIC_BASE_URL`

## SUCCESS INDICATORS

Within 2-5 minutes you should see:
- [ ] Claude responds (not hanging)
- [ ] Logs have content (not 0 bytes)
- [ ] status.json shows "calls_made_this_hour": 1
- [ ] First tasks start executing

---

**Ready to start Ralph Loop with z.ai API!**

Run: ./start-ralph-zai.sh
